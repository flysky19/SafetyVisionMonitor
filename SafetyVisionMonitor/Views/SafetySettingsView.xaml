<UserControl x:Class="SafetyVisionMonitor.Views.SafetySettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
             mc:Ignorable="d" 
             d:DesignHeight="1000" d:DesignWidth="1200">
    
    <ScrollViewer Background="#1A1A1A" Padding="20" VerticalScrollBarVisibility="Auto">
        <StackPanel>
            
            <!-- í—¤ë” -->
            <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                <Grid>
                    <StackPanel>
                        <TextBlock Text="ì•ˆì „ ê¸°ëŠ¥ ì„¤ì •" FontSize="28" FontWeight="Bold" Foreground="White"/>
                        <TextBlock Text="ê° ì•ˆì „ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ì„ ì„ íƒì ìœ¼ë¡œ í™œì„±í™”í•˜ê±°ë‚˜ ë¹„í™œì„±í™”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤." 
                                 Foreground="Gray" FontSize="14" Margin="0,5,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <syncfusion:ButtonAdv Label="ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”" 
                                              Command="{Binding ResetToDefaultsCommand}"
                                              Background="#E74C3C" 
                                              Foreground="White"
                                              Margin="0,0,10,0"/>
                        <syncfusion:ButtonAdv Label="ì„¤ì • ê°€ì ¸ì˜¤ê¸°" 
                                              Command="{Binding ImportSettingsCommand}"
                                              Background="#3498DB" 
                                              Foreground="White"
                                              Margin="0,0,10,0"/>
                        <syncfusion:ButtonAdv Label="ì„¤ì • ë‚´ë³´ë‚´ê¸°" 
                                              Command="{Binding ExportSettingsCommand}"
                                              Background="#27AE60" 
                                              Foreground="White"
                                              Margin="0,0,10,0"/>
                        <syncfusion:ButtonAdv Label="ì €ìž¥" 
                                              Command="{Binding SaveSettingsCommand}"
                                              Background="#F39C12" 
                                              Foreground="White"
                                              IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBooleanConverter}}"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- ì„¤ì • ê·¸ë£¹ë“¤ì„ 2ì—´ë¡œ ë°°ì¹˜ -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- ì™¼ìª½ ì—´ -->
                <StackPanel Grid.Column="0">
                    
                    <!-- 1. ì•ˆì „ë³´í˜¸êµ¬ ê°ì‹œ ê¸°ëŠ¥ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="ðŸ›¡ï¸ ì•ˆì „ë³´í˜¸êµ¬ ê°ì‹œ ê¸°ëŠ¥" FontSize="18" FontWeight="Bold" Foreground="#E67E22" Margin="0,0,0,15"/>
                            
                            <CheckBox Content="ì•ˆì „ëª¨ ê°ì‹œ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsHelmetMonitoringEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <CheckBox Content="ì•ˆì „ìž¥ê°‘ ê°ì‹œ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsGlovesMonitoringEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <CheckBox Content="ì•ˆì „í™” ê°ì‹œ ê¸°ëŠ¥ (í™”ë©´ì—ì„œ ê°ì§€ìœ„ì¹˜ ë°•ìŠ¤ ì²˜ë¦¬)" 
                                    IsChecked="{Binding Settings.IsSafetyBootsMonitoringEnabled}"
                                    Foreground="White" FontSize="14"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- 2. ê°œì¸ì •ë³´ ë³´í˜¸ ê¸°ëŠ¥ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="ðŸ”’ ê°œì¸ì •ë³´ ë³´í˜¸ ê¸°ëŠ¥" FontSize="18" FontWeight="Bold" Foreground="#9B59B6" Margin="0,0,0,15"/>
                            
                        <CheckBox Content="ì–¼êµ´ íë¦¼ ì²˜ë¦¬ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsFaceBlurEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <CheckBox Content="ì‚¬ëžŒ ëª¸ ì „ì²´ íë¦¼ ì²˜ë¦¬ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsFullBodyBlurEnabled}"
                                    Foreground="White" FontSize="14"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- 3. ìœ„í—˜, ê²½ê³  ê°ì‹œ êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="âš ï¸ ìœ„í—˜, ê²½ê³  ê°ì‹œ êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥" FontSize="18" FontWeight="Bold" Foreground="#E74C3C" Margin="0,0,0,15"/>
                            
                            <CheckBox Content="ìœ„í—˜ êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsDangerZoneMonitoringEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <CheckBox Content="ê²½ê³  êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsWarningZoneMonitoringEnabled}"
                                    Foreground="White" FontSize="14"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- 4. ìž‘ì—…ìž ë¶ˆì•ˆì „ í–‰ë™ ê°ì‹œ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="ðŸ‘¥ ìž‘ì—…ìž ë¶ˆì•ˆì „ í–‰ë™ ê°ì‹œ" FontSize="18" FontWeight="Bold" Foreground="#F39C12" Margin="0,0,0,15"/>
                            
                            <CheckBox Content="2ì¸ 1ì¡° ìž‘ì—… ë¯¸ì¤€ìˆ˜ ê°ì‹œ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsTwoPersonWorkMonitoringEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <CheckBox Content="ë‚™í•˜ ì‚¬ê³  ê°ì‹œ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsFallDetectionEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <CheckBox Content="êµ¬ì¡° ì‹ í˜¸ ê°ì‹œ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsEmergencySignalDetectionEnabled}"
                                    Foreground="White" FontSize="14"/>
                        </StackPanel>
                    </Border>
                    
                </StackPanel>
                
                <!-- ì˜¤ë¥¸ìª½ ì—´ -->
                <StackPanel Grid.Column="2">
                    
                    <!-- 5. ì•ˆì „ ëª¨ë‹ˆí„°ë§ êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="ðŸŽ¯ ì•ˆì „ ëª¨ë‹ˆí„°ë§ êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥" FontSize="18" FontWeight="Bold" Foreground="#27AE60" Margin="0,0,0,15"/>
                            
                            <CheckBox Content="ì•ˆì „ ëª¨ë‹ˆí„°ë§ êµ¬ì—­ ì„¤ì • ê¸°ëŠ¥ ì‚¬ìš©" 
                                    IsChecked="{Binding Settings.IsSafetyMonitoringZoneEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <TextBlock Text="ì„¤ëª…: í•´ë‹¹ êµ¬ì—­ ì„¤ì •í•œ êµ¬ì—­ë§Œ ëª¨ë‹ˆí„°ë§í•˜ë©°, ê·¸ ì™¸ êµ¬ì—­ì€ ì‚¬ëžŒ ë° ê°ì²´ë¥¼ ê°ì§€, êµ¬ì—­ì„ SKIP í•¨." 
                                     Foreground="Gray" FontSize="12" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- 6. ì•ˆì „ ëª¨ë‹ˆí„°ë§ êµ¬ì—­ ìž‘ì—…ìž ê´€ë¦¬ ê¸°ëŠ¥ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ìž‘ì—…ìž ë°€ì§‘ ê´€ë¦¬ ê¸°ëŠ¥" FontSize="18" FontWeight="Bold" Foreground="#3498DB" Margin="0,0,0,15"/>
                            
                            <CheckBox Content="ìž‘ì—…ìž ë°€ì§‘ ì¸ì› ê¸°ëŠ¥ ì‚¬ìš©" 
                                    IsChecked="{Binding Settings.IsWorkerDensityMonitoringEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <TextBlock Text="ë°€ì§‘ ì¸ì› ì„¤ì •:" Foreground="White" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBox Text="{Binding Settings.MaxWorkerDensityCount}" 
                                         Width="60" 
                                         IsEnabled="{Binding Settings.IsWorkerDensityMonitoringEnabled}"
                                         TextAlignment="Center"
                                         VerticalAlignment="Center"/>
                                <TextBlock Text="ëª…" Foreground="White" VerticalAlignment="Center" Margin="5,0,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- 7. ì™¸ë¶€ ì—°ë™ ê¸°ëŠ¥ -->
                    <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="ðŸ”— ì™¸ë¶€ ì—°ë™ ê¸°ëŠ¥" FontSize="18" FontWeight="Bold" Foreground="#16A085" Margin="0,0,0,15"/>
                            
                            <!-- ì™¸ë¶€ ì†Œë¦¬ ì•Œë¦¼ -->
                            <CheckBox Content="ì™¸ë¶€ ì†Œë¦¬ ì•Œë¦¼ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsExternalSoundAlertEnabled}"
                                    Foreground="White" FontSize="14" Margin="0,0,0,10"/>
                            
                            <Grid Margin="20,0,0,15" IsEnabled="{Binding Settings.IsExternalSoundAlertEnabled}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- ì‚¬ìš´ë“œ íŒŒì¼ ì„ íƒ -->
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBlock Text="ì‚¬ìš´ë“œ íŒŒì¼:" Foreground="Gray" VerticalAlignment="Center" Width="80"/>
                                    <TextBox Text="{Binding Settings.ExternalSoundFilePath}" 
                                           Width="200" Margin="0,0,10,0" IsReadOnly="True"/>
                                    <Button Content="ì„ íƒ" Command="{Binding SelectSoundFileCommand}" Margin="0,0,5,0"/>
                                    <Button Content="í…ŒìŠ¤íŠ¸" Command="{Binding TestSoundFileCommand}"/>
                                </StackPanel>
                                
                                <!-- ìŒëŸ‰ ì„¤ì • -->
                                <StackPanel Grid.Row="1" Orientation="Horizontal">
                                    <TextBlock Text="ìŒëŸ‰:" Foreground="Gray" VerticalAlignment="Center" Width="80"/>
                                    <Slider Value="{Binding Settings.AlertVolume}" 
                                          Minimum="0" Maximum="100" 
                                          Width="150" VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding Settings.AlertVolume}" 
                                             Foreground="White" VerticalAlignment="Center" 
                                             Width="30" TextAlignment="Right" Margin="10,0,0,0"/>
                                    <TextBlock Text="%" Foreground="Gray" VerticalAlignment="Center" Margin="2,0,0,0"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- ë¯¸ëž˜ êµ¬í˜„ ê¸°ëŠ¥ë“¤ (ë¹„í™œì„±í™” ìƒíƒœ) -->
                            <TextBlock Text="ðŸ“‹ ë¯¸ëž˜ êµ¬í˜„ ì˜ˆì • ê¸°ëŠ¥:" Foreground="#7F8C8D" FontWeight="Bold" Margin="0,10,0,10"/>
                            
                            <CheckBox Content="MQTT ì•Œë¦¼ ë° ë°ì´í„° ì—°ë™ ê¸°ëŠ¥" 
                                    IsChecked="{Binding Settings.IsMqttIntegrationEnabled}"
                                    Foreground="#7F8C8D" FontSize="14" Margin="0,0,0,8" IsEnabled="False"/>
                            
                            <CheckBox Content="ë¯¸ì¯”ë¹„ì‹œ PLC ì—°ë™ (Bit, Word)" 
                                    IsChecked="{Binding Settings.IsMitsubishiPlcIntegrationEnabled}"
                                    Foreground="#7F8C8D" FontSize="14" Margin="0,0,0,8" IsEnabled="False"/>
                            
                            <CheckBox Content="Safety PLC ì—°ë™ (Bit, Word)" 
                                    IsChecked="{Binding Settings.IsSafetyPlcIntegrationEnabled}"
                                    Foreground="#7F8C8D" FontSize="14" Margin="0,0,0,8" IsEnabled="False"/>
                            
                            <CheckBox Content="CC-Link ì—°ë™ (Bit, Word)" 
                                    IsChecked="{Binding Settings.IsCcLinkIntegrationEnabled}"
                                    Foreground="#7F8C8D" FontSize="14" IsEnabled="False"/>
                        </StackPanel>
                    </Border>
                    
                </StackPanel>
                
            </Grid>
            
            <!-- í•˜ë‹¨ ìƒíƒœ í‘œì‹œ -->
            <Border Background="#2D2D30" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                <Grid>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ìƒíƒœ:" Foreground="Gray" Margin="0,0,10,0"/>
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White"/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <syncfusion:ButtonAdv Content="ì„¤ì • ê²€ì¦" 
                                              Command="{Binding ValidateSettingsCommand}"
                                              Background="#8E44AD" 
                                              Foreground="White"
                                              Margin="0,0,10,0"/>
                        <ProgressBar IsIndeterminate="True" 
                                   Width="100" Height="5"
                                   Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                    </StackPanel>
                </Grid>
            </Border>
            
        </StackPanel>
    </ScrollViewer>
</UserControl>